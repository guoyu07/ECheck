// jQuery EasyCheck Plugin
//
// Version 1.9
//
// Copy By RAY
// inthinkcolor@gmail.com
// 2012
//
var EasyCheck={loadChk:true,blurChk:true,keyupChk:true,email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,integer:/^\d+$/,English:/^[A-Za-z]+$/,Chinese:/^[\u0391-\uFFE5]+$/,Zip:/^[1-9]\d{5}$/,Currency:/^\d+(\.\d+)?$/,Require:/.+/,ipv4:/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i,ipv6:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/,showError:function(d,c){var a=$("[id*='error_"+$(d).attr("name")+"']");if(a.size()==0){$(d).after("<div id='error_"+$(d).attr("name")+"'></div>");a=$("[id='error_"+$(d).attr("name")+"']")}a.removeClass();a.addClass("easycheck_errorInfo");$(d).removeClass("easycheck_okInput");$(d).addClass("easycheck_errorInput");var b=a.attr("info");if(b){a.html(b+c)}else{a.html(c)}a.show()},clearError:function(c,b){var a=$("[id='error_"+$(c).attr("name")+"']");if(a){a.removeClass();$(c).removeClass("easycheck_errorInput");$(c).addClass("easycheck_okInput");a.addClass("easycheck_okInfo");if(b){a.html(b)}else{a.html("")}a.hide()}},clearAllError:function(){$("[id^='error_']").each(function(){var a=$(this).attr("id").replace("error_","");var b=$("[name='"+a+"']");b.removeClass("easycheck_errorInfo");b.addClass("easycheck_okInput")});$("[id^='error_']").hide("")},formatMsg:function(){var a=[];for(i=1;i<arguments.length;i++){a.push(arguments[i])}return arguments[0].replace(/\{(\d+)\}/g,function(b,c){return a[c]})},addChkMethod:function(d,a,c,b){if(!c(d)){EasyCheck.showError(d,b);if(a){a.stopImmediatePropagation()}return false}else{EasyCheck.clearError(d);return true}},ChkRule:function(c,a,b){this.chkName=c;this.chkFunction=a;this.chkAttr=b},chkList:"",msg:{required:"Is required",email:"Invalid email",url:"Invalid url",number:"Invalid number",integer:"Invalid integer",equalto:"Didn't  match input",equallength:"length  has to be {0}","minlength][maxlength":"Please use between {0} and {1} characters",minlength:"Use at least {0} characters",maxlength:"Must have at most {0} characters","min][max":"Value is between{0}and{1}",min:"The minimum value of {0}",max:"The maximum value of {0}",regexp:"Invalid value",extension:"Invalid extension,only {0}",vc:"Didn't match the word verification"},easyCheckIgnore:{},easyCheckBlurIgnore:{},easyCheckKeyupIgnore:{},easyCheckEleIgnore:{},easyCheckSubmitDisable:true,removeDisableBtn:[],removeDisableForm:[],removeDisable:false};EasyCheck.chkList=[new EasyCheck.ChkRule("required",checkRequired),new EasyCheck.ChkRule("email",checkEmail),new EasyCheck.ChkRule("url",checkUrl),new EasyCheck.ChkRule("number",checkNumber),new EasyCheck.ChkRule("integer",checkInteger),new EasyCheck.ChkRule("equalto",checkEqualto,true),new EasyCheck.ChkRule("equallength",checkEquallength,true),new EasyCheck.ChkRule("minlength][maxlength",checkRangeLength,true),new EasyCheck.ChkRule("minlength",checkMinlength,true),new EasyCheck.ChkRule("maxlength",checkMaxlength,true),new EasyCheck.ChkRule("min][max",checkRange,true),new EasyCheck.ChkRule("min",checkMin,true),new EasyCheck.ChkRule("max",checkMax,true),new EasyCheck.ChkRule("reg",checkRegExp,true),new EasyCheck.ChkRule("extension",checkExtension,true),new EasyCheck.ChkRule("vc",checkVc,true)];EasyCheck.easyCheckIgnore.vc=true;EasyCheck.easyCheckEleIgnore.uservc=true;function checkVc(b,a){return EasyCheck.addChkMethod(b,a,function(e){var d=$(e).val();var c=false;$.ajaxSetup({async:false});$.post($(e).attr("vc"),$(e).attr("name")+"="+d+"&n="+new Date(),function(f){c=f.replace(/\r\n/g,"")},"text");return c=="true"},EasyCheck.msg.vc)}function checkRegExp(b,a){return EasyCheck.addChkMethod(b,a,function(e){var d=$(e).val();var c=new RegExp("^(?:"+$(e).attr("reg")+")$");return !($.trim(d)!=""&&!c.test(d))},EasyCheck.msg.regexp)}function checkExtension(b,a){ex="png,jpeg,jpg,gif";return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();ex=$(d).attr("extension");var e=ex!=""?ex.replace(/,/g,"|"):"png|jpe?g|gif";return !($.trim(c)!=""&&!c.match(new RegExp(".("+e+")$","i")))},EasyCheck.formatMsg(EasyCheck.msg.extension,ex))}function checkRequired(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return $.trim(c)!=""},EasyCheck.msg.required)}function checkEmail(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !($.trim(c)!=""&&!EasyCheck.email.test(c))},EasyCheck.msg.email)}function checkUrl(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !($.trim(c)!=""&&!EasyCheck.url.test(c))},EasyCheck.msg.url)}function checkNumber(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !($.trim(c)!=""&&!EasyCheck.number.test(c))},EasyCheck.msg.number)}function checkInteger(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !($.trim(c)!=""&&!EasyCheck.integer.test(c))},EasyCheck.msg.integer)}function checkEqualto(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !(c!=$("[id='"+$(d).attr("equalto")+"']").val())},EasyCheck.msg.equalto)}function checkEquallength(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !(c.length!=$(d).attr("equallength"))},EasyCheck.formatMsg(EasyCheck.msg.equallength,$(b).attr("equallength")))}function checkRangeLength(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !($.trim(c).length<$(d).attr("minlength")||$.trim(c).length>$(d).attr("maxlength"))},EasyCheck.formatMsg(EasyCheck.msg["minlength][maxlength"],$(b).attr("minlength"),$(b).attr("maxlength")))}function checkMinlength(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !($.trim(c).length<$(d).attr("minlength"))},EasyCheck.formatMsg(EasyCheck.msg.minlength,$(b).attr("minlength")))}function checkMaxlength(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !($.trim(c).length>$(d).attr("maxlength"))},EasyCheck.formatMsg(EasyCheck.msg.maxlength,$(b).attr("maxlength")))}function checkRange(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !(parseFloat($.trim(c))<parseFloat($(d).attr("min"))||parseFloat($.trim(c))>parseFloat($(d).attr("max"))||isNaN(c))},EasyCheck.formatMsg(EasyCheck.msg["min][max"],$(b).attr("min"),$(b).attr("max")))}function checkMin(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !(parseFloat($.trim(c))<parseFloat($(d).attr("min"))||isNaN(c))},EasyCheck.formatMsg(EasyCheck.msg.min,$(b).attr("min")))}function checkMax(b,a){return EasyCheck.addChkMethod(b,a,function(d){var c=$(d).val();return !(parseFloat($.trim(c))>parseFloat($(d).attr("max"))||isNaN(c))},EasyCheck.formatMsg(EasyCheck.msg.min,$(b).attr("min")))}function chk(c,b,a){a(c,b)}function addChk(a){var b=a.chkAttr?"["+a.chkName+"]":"[class~='"+a.chkName+"']";$(b).on("blur",function(c){if(!EasyCheck.easyCheckBlurIgnore[a.chkName]&&(!EasyCheck.easyCheckEleIgnore[c.target.name])){EasyCheck.blurChk?chk(this,c,a.chkFunction):""}}).on("focus",function(c){EasyCheck.clearError(this)}).on("keyup",function(c){if(!EasyCheck.easyCheckKeyupIgnore[a.chkName]&&(!EasyCheck.easyCheckEleIgnore[c.target.name])){EasyCheck.keyupChk?chk(this,c,a.chkFunction):""}})}function addChkForm(a,b){var c=a.chkAttr?"["+a.chkName+"]":"[class~='"+a.chkName+"']";$(b.eleArea+c).each(function(e,f){if(!b.errorEleArray[$(f).attr("name")]){var d=a.chkFunction(f);if(!d){b.errorEleArray[$(f).attr("name")]="E";b.chkFlag=false}}else{b.chkFlag=false}})}function easyCheck(){for(var b=0;b<EasyCheck.chkList.length;b++){var a=EasyCheck.chkList[b];if(!EasyCheck.easyCheckIgnore[a.chkName]){addChk(a)}}}function easyCheckForm(d){var c={eleArea:"[id='"+$(d).attr("id")+"'] ",chkFlag:true,errorEleArray:new Array()};for(var b=0;b<EasyCheck.chkList.length;b++){var a=EasyCheck.chkList[b];addChkForm(a,c)}if(c.chkFlag==true&&EasyCheck.easyCheckSubmitDisable==true){$(c.eleArea+":submit").attr("disabled","true")}else{$(c.eleArea+":submit").removeAttr("disabled")}return c.chkFlag}$(function(){EasyCheck.loadChk?easyCheck():"";for(var a=0;a<EasyCheck.removeDisableBtn.length;a++){$("#"+EasyCheck.removeDisableBtn[a]).removeAttr("disabled")}if(EasyCheck.removeDisable==true){$("form :submit").removeAttr("disabled")}else{for(var a=0;a<EasyCheck.removeDisableForm.length;a++){$("[id='"+EasyCheck.removeDisableForm[a]+"'] :submit").removeAttr("disabled")}}});