/**
 * jQuery EasyCheck Plugin
 * 
 * Version 4.0.0
 * 
 * http://easyproject.cn
 * https://github.com/ushelp/EasyCheck
 * 
 * Copyright 2014 Ray [ inthinkcolor@gmail.com ]
 * 
 * Dependencies: jQuery
 * 
 */
!function(a){var b=function(a,b){var c=v.getMatches(a.chkName);$(b.eleArea+c).each(function(c,d){var f,e=$(d).attr("id")||$(d).attr("name");b.errorEleArray[e]?b.chkFlag=!1:(f=a.chkFunction(d),f||(b.errorEleArray[e]="E",b.chkFlag=!1))})},c=function(a){var b="";a.formId&&(b="[id='"+a.formId+"'] "),$(b+"[id^='error_']").each(function(){var d,e,f,a=$(this).attr("id").replace("error_",""),c=null;c=$(b+"[id='"+a+"']").length>0?$(b+"[id='"+a+"']"):$(b+"[name='"+a+"']"),d=$("form").has(c).attr("id"),"no"!=v.ecss&&"no"!=v.formEcss[d]&&(c.attr("ecss")&&"yes"!=c.attr("ecss")||(c.removeClass(v.errorCss),d&&v.formErrorCss[d]&&c.removeClass(v.formErrorCss[d]),e=c.attr("id")||c.attr("name"),f=d+"_"+e,c.addClass(v.txtClass[f+"_class"]))),$(b+"[id^='error_']").hide()}),a.restore&&($(b+"[id^='correct_']").each(function(){$(this).hide()}),$(b+"[id^='default_']").each(function(){var a,b,c,e;console.info(this),a=$("form").has(this),b=$(this),a?(c=a.attr("id"),e=b.attr("id").substr("default_".length),d(b,c,e)):d(b)}))},d=function(a,b,c){if(b){var d=a.html();void 0!=v.cacheDefMsg[b+"_"+c]?d=v.cacheDefMsg[b+"_"+c]:(a.attr("info")&&(d=a.attr("info")),v.cacheDefMsg[b+"_"+c]=d),v.defMsgs[c]?a.html(v.defMsgs[c].replace(v.msgMark,d)):v.defMsgs[b]?a.html(v.defMsgs[b].replace(v.msgMark,d)):a.html(v.defMsg.replace(v.msgMark,d))}a.show()},e=function(a,b){return u("[vc]",a,b,function(a){var b=$(a).val(),c=!1;return $.ajaxSetup({async:!1}),$.post($(a).attr("vc"),$(a).attr("name")+"="+b+"&n="+new Date,function(a){c=a.replace(/\r\n/g,"")},"text"),"true"==c},v.msg["vc"])},f=function(a,b){return u("[reg]",a,b,function(a){var b=$(a).val(),c=new RegExp("^(?:"+$(a).attr("reg")+")$");return!(""!=$.trim(b)&&!c.test(b))},v.msg["regexp"])},g=function(a,b){return u("[extension]",a,b,function(a){var b=$(a).attr("extension"),c=$(a).val(),d=""!=b?b.replace(/,/g,"|"):"png|jpe?g|gif";return!(""!=$.trim(c)&&!c.match(new RegExp(".("+d+")$","i")))},v.formatMsg(v.msg["extension"],$(a).attr("extension")))},h=function(a,b){return u(".required",a,b,function(a){var b=$(a).val();return""!=$.trim(b)},v.msg["required"])},i=function(a,b){return u(".email",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!v.validator.email.test(b))},v.msg["email"])},j=function(a,b){return u(".url",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!v.validator.url.test(b))},v.msg["url"])},k=function(a,b){return u(".number",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!v.validator.number.test(b))},v.msg["number"])},l=function(a,b){return u(".integer",a,b,function(a){var b=$(a).val();return!(""!=$.trim(b)&&!v.validator.integer.test(b))},v.msg["integer"])},m=function(a,b){return u("[equalto]",a,b,function(a){var b=$(a).val();return b==$("[id='"+$(a).attr("equalto")+"']").val()},v.msg["equalto"])},n=function(a,b){return u("[equallength]",a,b,function(a){var b=$(a).val();return!(b.length!=$(a).attr("equallength"))},v.formatMsg(v.msg["equallength"],$(a).attr("equallength")))},o=function(a,b){return u("[minlength][maxlength]",a,b,function(a){var b=$(a).val();return!($.trim(b).length<$(a).attr("minlength")||$.trim(b).length>$(a).attr("maxlength"))},v.formatMsg(v.msg["lengthrange"],$(a).attr("minlength"),$(a).attr("maxlength")))},p=function(a,b){return u("[minlength]",a,b,function(a){var b=$(a).val();return!($.trim(b).length<$(a).attr("minlength"))},v.formatMsg(v.msg["minlength"],$(a).attr("minlength")))},q=function(a,b){return u("[maxlength]",a,b,function(a){var b=$(a).val();return!($.trim(b).length>$(a).attr("maxlength"))},v.formatMsg(v.msg["maxlength"],$(a).attr("maxlength")))},r=function(a,b){return u("[min][max]",a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))<parseFloat($(a).attr("min"))||parseFloat($.trim(b))>parseFloat($(a).attr("max"))||isNaN(b))},v.formatMsg(v.msg["numberrange"],$(a).attr("min"),$(a).attr("max")))},s=function(a,b){return u("[min]",a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))<parseFloat($(a).attr("min"))||isNaN(b))},v.formatMsg(v.msg["min"],$(a).attr("min")))},t=function(a,b){return u("[max]",a,b,function(a){var b=$(a).val();return!(parseFloat($.trim(b))>parseFloat($(a).attr("max"))||isNaN(b))},v.formatMsg(v.msg["max"],$(a).attr("max")))},u=function(a,b,c,d,e){var h,i,j,k,l,f=$(b).attr("id")||$(b).attr("name"),g=$("[id='default_"+f+"']");return g&&g.hide(),d(b)?(v.clearError(b),h=$("[id='default_"+f+"']"),h&&h.hide(),i=$("[id='correct_"+f+"']"),j=$("form").has(b).attr("id"),i&&(i.addClass("easycheck_okInfo"),k=i.html(),void 0!=v.cacheCorrectMsg[j+"_"+f]?k=v.cacheCorrectMsg[j+"_"+f]:(i.attr("info")&&(k=i.attr("info")),v.cacheCorrectMsg[j+"_"+f]=k),v.correctMsgs[f]?i.html(v.correctMsgs[f].replace(v.msgMark,k)):v.correctMsgs[j]?i.html(v.correctMsgs[j].replace(v.msgMark,k)):i.html(v.correctMsg.replace(v.msgMark,k)),i.show()),c&&"keyup"==c.type&&($(b).removeClass(v.errorCss),l=$("form").has(b),l.length>0&&v.formErrorCss[l.attr("id")]&&$(b).removeClass(v.formErrorCss[l.attr("id")]),l.length>0&&v.formFocusCss[l.attr("id")]?$(b).addClass(v.formFocusCss[l.attr("id")]):$(b).addClass(v.focusCss)),!0):(g=$("[id='default_"+f+"']"),g&&g.hide(),v.msgs[f]&&v.msgs[f][a]&&(e="string"==typeof v.msgs[f][a]?v.msgs[f][a]:v.msgs[f][a]($(b))),v.showError(b,e),c&&c.stopImmediatePropagation(),!1)},v={chkList:"",msg:{},msgs:{},msgMark:"{0}",errorMsg:"{0}",correctMsg:"{0}",defMsg:"{0}",errorMsgs:{},correctMsgs:{},defMsgs:{},cacheCorrectMsg:{},cacheDefMsg:{},cacheErrorMsg:{},validator:{email:/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,integer:/^-?^\d+$/,English:/^[A-Za-z]+$/,Chinese:/^[\u0391-\uFFE5]+$/,Zip:/^[1-9]\d{5}$/,Currency:/^\d+(\.\d+)?$/,Require:/.+/,ipv4:/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i,ipv6:/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/},easyCheckIgnore:{},easyCheckBlurIgnore:{},easyCheckKeyupIgnore:{},easyCheckEleIgnore:{},easyCheckEleBlurIgnore:{},easyCheckEleKeyupIgnore:{},easyCheckSubmitDisable:!0,removeDisableBtn:[],removeDisableForm:[],removeDisable:!1,ecss:"yes",formEcss:{},focusCss:"easycheck_focusInput",errorCss:"easycheck_errorInput",formFocusCss:{},formErrorCss:{},txtClass:{},loadChk:!0,blurChk:!0,keyupChk:!0,formatMsg:function(){var b,a=[];for(b=1;b<arguments.length;b++)a.push(arguments[b]);return arguments[0].replace(/\{(\d+)\}/g,function(b,c){return a[c]})},getMatches:function(a){var b=/(\[[A-Za-z0-9]+\])/g,c=/(\.[A-Za-z0-9]+)/g,d="",e=a.match(b);return null!=e&&$.each(e,function(a,b){d+=b}),e=a.match(c),null!=e&&$.each(e,function(a,b){d+="[class~='"+b.substring(1)+"']"}),d},clearAllError:function(a){c({formId:a})},restoreAll:function(a){c({formId:a,restore:!0})},showError:function(a,b){var c,d,e,f,g,h;"string"==typeof a&&(a=$("#"+a)[0]||$("[name='"+a+"']")[0]),a=$(a),c=a.attr("id")||a.attr("name"),$("[id='correct_"+c+"']").hide(),$("[id='default_"+c+"']").hide(),d=$("[id='error_"+c+"']"),0==d.size()&&(a.after("<div id='error_"+c+"'></div>"),d=$("[id='error_"+c+"']")),d.removeClass(),d.addClass("easycheck_errorInfo"),e=$("form").has(a).attr("id"),a.removeClass(v.focusCss),e&&v.formFocusCss[e]&&a.removeClass(v.formFocusCss[e]),"no"!=v.ecss&&"no"!=v.formEcss[e]&&(a.attr("ecss")&&"yes"!=a.attr("ecss")||(e&&v.formErrorCss[e]?a.addClass(v.formErrorCss[e]):a.addClass(v.errorCss))),f="",g=d.attr("prefix"),g?f=g+b:(g="",f=b),h=d.html(),void 0!=v.cacheErrorMsg[e+"_"+c]?h=v.cacheErrorMsg[e+"_"+c]:(d.attr("info")&&(h=d.attr("info")),v.cacheErrorMsg[e+"_"+c]=h),h&&(f=g+h),this.errorMsgs[c]?d.html(this.errorMsgs[c].replace(this.msgMark,f)):this.errorMsgs[e]?d.html(this.errorMsgs[e].replace(this.msgMark,f)):d.html(this.errorMsg.replace(this.msgMark,f)),d.show()},clearError:function(a,b){var c,e,f,g,h,i;"string"==typeof a&&(a=$("#"+a)[0]||$("[name='"+a+"']")[0]),a=$(a),c=a.attr("id")||a.attr("name"),e=$("[id='error_"+c+"']"),f=$("form").has(a).attr("id"),e&&("no"!=v.ecss&&"no"!=v.formEcss[f]&&(a.attr("ecss")&&"yes"!=a.attr("ecss")||(a.removeClass(v.errorCss),f&&v.formErrorCss[f]&&a.removeClass(v.formErrorCss[f]),g=a.attr("id")||a.attr("name"),h=f+"_"+g,a.addClass(v.txtClass[h+"_class"]))),e.addClass("easycheck_okInfo"),b?e.html(b):e.html(""),e.hide(),i=$("[id='default_"+c+"']"),$("[id='correct_"+c+"']").hide(),d(i,f,c)),a.removeClass(v.focusCss),f&&v.formFocusCss[f]&&a.removeClass(v.formFocusCss[f]),g=a.attr("id")||a.attr("name"),h=f+"_"+g,a.addClass(v.txtClass[h+"_class"])},chk:function(a,b,c){c(a,b)},initDefMsg:function(){var a,b,c;for(a=0;a<v.chkList.length;a++)b=v.chkList[a],v.easyCheckIgnore[b.chkName]||(c=v.getMatches(b.chkName),$(c).each(function(){var a=$(this),b=$("form").has(a).attr("id"),c=a.attr("id")||a.attr("name"),e=$("[id='default_"+c+"']");e.size()>0&&d(e,b,c)}))},initChk:function(a){var b=v.getMatches(a.chkName);$(b).each(function(){var a=$(this),b=$("form").has(a).attr("id"),c=a.attr("id")||a.attr("name"),d=b+"_"+c;v.txtClass[d+"_class"]=$(this).attr("class"),v.txtClass[d+"_style"]=$(this).attr("style")}),$(b).on("blur",function(b){v.easyCheckBlurIgnore[a.chkName]||v.easyCheckEleIgnore[b.target.id||b.target.name]||v.easyCheckEleBlurIgnore[b.target.id||b.target.name]||(v.blurChk?v.chk(this,b,a.chkFunction):"")}).on("focus",function(){var b,c,e,f,g,h;v.clearError(this),b=$(this),c=b.attr("id")||b.attr("name"),e=$("[id='correct_"+c+"']"),e.length>0?e.filter(":hidden").length>0&&(f=$("[id='default_"+c+"']"),f&&($("[id='correct_"+c+"']").hide(),d(f,$("form").has($(c)).attr("id"),c))):(f=$("[id='default_"+c+"']"),f&&($("[id='correct_"+c+"']").hide(),d(f,$("form").has($(c)).attr("id"),c))),g=$("form").has(b),h=g.attr("id"),h=g.attr("id"),h&&v.formFocusCss[h]?b.addClass(v.formFocusCss[h]):b.addClass(v.focusCss)}).on("keyup",function(b){v.easyCheckKeyupIgnore[a.chkName]||v.easyCheckEleIgnore[b.target.id||b.target.name]||v.easyCheckEleKeyupIgnore[b.target.id||b.target.name]||(v.keyupChk?v.chk(this,b,a.chkFunction):"")})},addChk:function(a,b,c){var d=function(d,e){return u(a,d,e,b,"string"==typeof c?c:c(d))},e=new v.ChkRule(a,d);v.chkList.push(e),v.initChk(e)},ChkRule:function(a,b){this.chkName=a,this.chkFunction=b},checkForm:function(a){var c,d,e;for("string"==typeof a&&(a=$(a)),c={eleArea:"[id='"+$(a).attr("id")+"'] ",chkFlag:!0,errorEleArray:new Array},d=0;d<v.chkList.length;d++)e=v.chkList[d],b(e,c);return 1==c.chkFlag&&1==v["easyCheckSubmitDisable"]?$(":submit",$(c.eleArea)).attr("disabled","true"):$(":submit",$(c.eleArea)).removeAttr("disabled"),c.chkFlag}};v.chkList=[new v.ChkRule(".required",h),new v.ChkRule(".email",i),new v.ChkRule(".url",j),new v.ChkRule(".number",k),new v.ChkRule(".integer",l),new v.ChkRule("[equalto]",m),new v.ChkRule("[equallength]",n),new v.ChkRule("[minlength][maxlength]",o),new v.ChkRule("[minlength]",p),new v.ChkRule("[maxlength]",q),new v.ChkRule("[min][max]",r),new v.ChkRule("[min]",s),new v.ChkRule("[max]",t),new v.ChkRule("[reg]",f),new v.ChkRule("[extension]",g),new v.ChkRule("[vc]",e)],v.easyCheckIgnore["[vc]"]=!0,a.EasyCheck=v}(window),$(function(){function a(){var a,b;for(a=0;a<EasyCheck.chkList.length;a++)b=EasyCheck.chkList[a],EasyCheck.easyCheckIgnore[b.chkName]||EasyCheck.initChk(b)}var b;for(EasyCheck.loadChk?"":(EasyCheck.blurChk=!1,EasyCheck.keyupChk=!1),a(),b=0;b<EasyCheck.removeDisableBtn.length;b++)$("#"+EasyCheck.removeDisableBtn[b]).removeAttr("disabled");if(1==EasyCheck.removeDisable)$("form :submit").removeAttr("disabled");else for(b=0;b<EasyCheck.removeDisableForm.length;b++)$(":submit",$("#"+EasyCheck.removeDisableForm[b])).removeAttr("disabled");$("[id*='correct_']").hide(),$("[id*='error_']").hide(),$("[easycheck='true']").on("submit",function(){return EasyCheck.checkForm(this)})});